from time import sleep
from flask import Flask
from flask import Flask, jsonify, request, render_template, make_response, redirect, url_for, flash
from flask_cors import CORS
from db import MongoDB

projects = [
    {
        "id": 1,
        "title": "title",
        "description": "example for desc",
        "img": "https://source.unsplash.com/random",
        "git": "https://www.github.com"
    },
    {
        "id": 2,
        "img": "https://picsum.photos/200"
    },
    {
        "id": 3,
        "title": "title",
        "img": "https://source.unsplash.com/random"
    }
]

users = {
    1: {
        "email": "johnathan.maytliss@gmail.com",
        "title": "Johnathan Maytliss - Software Engineer",
        "description": "this is desc"
    },
    2: {

    }
}

tlv = [[34.739131,32.0337564],[34.7422018,32.0329711],[34.7423195,32.033133],[34.7424309,32.0331262],[34.7430682,32.0330872],[34.7433235,32.0330003],[34.7433495,32.0330387],[34.7434054,32.0330171],[34.7439781,32.0327579],[34.7439347,32.0327208],[34.7441624,32.0325724],[34.7441252,32.0325597],[34.7457522,32.0316682],[34.7498687,32.0293437],[34.7498799,32.0293581],[34.7508466,32.0305994],[34.7519117,32.0305432],[34.7525573,32.0304308],[34.7526338,32.0306149],[34.7527868,32.0306235],[34.7528557,32.0310052],[34.7545649,32.0307511],[34.7546111,32.0309709],[34.7546464,32.0309666],[34.7546974,32.0312306],[34.755268,32.0311522],[34.7553373,32.031346],[34.755535,32.0321908],[34.7554573,32.0322024],[34.7555189,32.0325044],[34.7557272,32.0324728],[34.7559292,32.0335029],[34.7594835,32.0329286],[34.7594073,32.033702],[34.7594103,32.034426],[34.7594501,32.0348412],[34.7595812,32.0355455],[34.7597797,32.0361003],[34.7599523,32.036474],[34.7609226,32.0364774],[34.7616566,32.0365736],[34.7627534,32.0366045],[34.7637201,32.0365475],[34.7648102,32.0363907],[34.7655055,32.0362449],[34.7661164,32.0360102],[34.7693952,32.0348599],[34.7702416,32.0344503],[34.7708632,32.0342258],[34.7716066,32.0338981],[34.7726831,32.0334717],[34.7726921,32.0334869],[34.7743862,32.0327793],[34.7766735,32.0366922],[34.778101,32.0386707],[34.7788194,32.0382728],[34.7789424,32.0383977],[34.7806878,32.0404482],[34.7833334,32.0436343],[34.7860013,32.0468247],[34.7880801,32.0467585],[34.788266,32.0462139],[34.7893175,32.0440806],[34.7893738,32.0441019],[34.7896112,32.0435302],[34.7905549,32.041484],[34.7917614,32.0408878],[34.7942195,32.0402664],[34.7954583,32.0400678],[34.7968048,32.0397277],[34.7980261,32.0392118],[34.7988374,32.0387686],[34.8006752,32.0376804],[34.8015691,32.037099],[34.802537,32.036619],[34.8037814,32.036054],[34.8054746,32.0353502],[34.8072519,32.0345527],[34.8080262,32.0367907],[34.8076433,32.0369006],[34.807918,32.0376697],[34.8082863,32.0375057],[34.8084364,32.0381126],[34.8089343,32.0392335],[34.8097489,32.0415382],[34.8121926,32.0408139],[34.8123315,32.0408265],[34.812423,32.0409164],[34.8138129,32.0446013],[34.8132415,32.0446939],[34.8137764,32.0467277],[34.8138145,32.0469971],[34.813906,32.0476435],[34.8139279,32.048543],[34.8138801,32.0503151],[34.8138417,32.0506746],[34.8136676,32.0512112],[34.8133778,32.0517542],[34.8130027,32.0523516],[34.8125487,32.0529485],[34.8121486,32.053412],[34.8117758,32.0537654],[34.8115162,32.0540116],[34.8110639,32.0543902],[34.8104268,32.0548598],[34.8110273,32.055961],[34.8112814,32.0565693],[34.8116451,32.0578768],[34.8117959,32.0586318],[34.8105739,32.0588432],[34.8107133,32.0597083],[34.8094387,32.0599935],[34.8086379,32.0602384],[34.8080559,32.0604513],[34.8076154,32.0606534],[34.8070291,32.060979],[34.8066949,32.0611944],[34.8061407,32.0616267],[34.8055958,32.0621655],[34.8058771,32.0623597],[34.8057569,32.0629088],[34.8054755,32.0632828],[34.8052249,32.0636844],[34.8049405,32.0642392],[34.8047126,32.0648157],[34.8045815,32.0652271],[34.8044923,32.0656284],[34.8038597,32.065577],[34.8037845,32.0661294],[34.8028101,32.0660468],[34.802506,32.0691447],[34.8024177,32.0695835],[34.8023099,32.0697888],[34.8021218,32.0699782],[34.802566,32.0704561],[34.8023866,32.0706084],[34.8022498,32.0707762],[34.8009232,32.0725349],[34.800599,32.0729257],[34.8021281,32.0767609],[34.8021236,32.0771463],[34.8019335,32.0777139],[34.8016683,32.0779354],[34.8013171,32.0781629],[34.799323,32.0792031],[34.7988821,32.0794049],[34.7987341,32.0795438],[34.7978591,32.0802108],[34.7981179,32.0807967],[34.798485,32.0808437],[34.7986342,32.0809656],[34.7990386,32.0811144],[34.7993188,32.08116],[34.7995474,32.0811665],[34.7997927,32.0811735],[34.7998964,32.0811793],[34.8000201,32.0811905],[34.8000483,32.0816511],[34.8000005,32.0819082],[34.7998664,32.082227],[34.7995713,32.0827641],[34.7994277,32.0832128],[34.7994041,32.0835459],[34.7994462,32.0837499],[34.7995258,32.0839278],[34.7993912,32.0840223],[34.7991223,32.0843933],[34.7992975,32.0848706],[34.8001094,32.0866451],[34.800569,32.0877273],[34.8011405,32.0893632],[34.8011792,32.0895098],[34.801217,32.0897737],[34.8013086,32.0901515],[34.8017854,32.0929295],[34.8021018,32.0933204],[34.8022135,32.0934054],[34.8028246,32.0927597],[34.8031273,32.0922878],[34.8034556,32.0916111],[34.8038951,32.0911981],[34.8042194,32.0910073],[34.8044838,32.0909248],[34.8048029,32.0911114],[34.8049955,32.0911382],[34.8050141,32.0910803],[34.8053706,32.0911818],[34.8053374,32.091273],[34.8058862,32.0914028],[34.8058935,32.0912055],[34.806456,32.0912288],[34.8070539,32.0911658],[34.8068813,32.0899076],[34.8068822,32.0898141],[34.8069582,32.0897763],[34.8086708,32.0907686],[34.8089931,32.0909122],[34.8093237,32.0909767],[34.8087775,32.0933347],[34.8087024,32.0935594],[34.8086749,32.0939835],[34.8085686,32.0942757],[34.8085608,32.0943945],[34.808662,32.0943992],[34.8087026,32.0941008],[34.8087785,32.0943486],[34.8091299,32.0947844],[34.8094084,32.0949697],[34.8097403,32.0950932],[34.8097055,32.0963193],[34.810086,32.0963044],[34.8104865,32.0962473],[34.8110735,32.0960829],[34.8115477,32.0959215],[34.8119004,32.0957591],[34.8122325,32.0956659],[34.8124035,32.0956553],[34.8128844,32.0957435],[34.8135271,32.0959648],[34.8137942,32.0960919],[34.8142583,32.0963706],[34.8144566,32.0965319],[34.8148322,32.096958],[34.8152043,32.0974585],[34.8153969,32.097999],[34.8155343,32.0981483],[34.8156194,32.0981767],[34.8160326,32.0981603],[34.8169785,32.0980122],[34.8174285,32.0978877],[34.8182152,32.097794],[34.8185537,32.0975767],[34.8186435,32.0974742],[34.8188486,32.0969679],[34.8188463,32.0964914],[34.8189042,32.0963474],[34.8189924,32.0962497],[34.8191824,32.0961513],[34.8193251,32.0961108],[34.8194539,32.0961119],[34.8196675,32.0961641],[34.8199795,32.0962867],[34.8203379,32.0965979],[34.8214132,32.0977876],[34.8216428,32.0981662],[34.8219293,32.098512],[34.8224614,32.0988262],[34.8225662,32.0989676],[34.8226213,32.0991476],[34.8225803,32.0994933],[34.8223843,32.0998159],[34.8221124,32.1000977],[34.8214612,32.1005446],[34.8213141,32.1007072],[34.821146,32.1009504],[34.8211678,32.1011976],[34.8213526,32.1014203],[34.8215995,32.1015941],[34.8221085,32.1018121],[34.8225309,32.1018962],[34.8231945,32.1018982],[34.823553,32.1019991],[34.82419,32.1023374],[34.824362,32.1025048],[34.8243891,32.1025877],[34.8243857,32.1026734],[34.824326,32.1027578],[34.8239109,32.1029504],[34.8235091,32.1030326],[34.8231771,32.1031533],[34.8230009,32.1032952],[34.8229023,32.1034659],[34.8229568,32.1036267],[34.8230358,32.10373],[34.8232227,32.1038817],[34.8234574,32.1040036],[34.8238356,32.1042752],[34.824062,32.1043751],[34.8243509,32.1044352],[34.8248109,32.1046372],[34.8250307,32.1047844],[34.8251783,32.1049404],[34.8270604,32.1053496],[34.8274083,32.1055175],[34.8276484,32.1055761],[34.8278538,32.1056264],[34.8287154,32.105837],[34.829669,32.1058398],[34.8307318,32.1057934],[34.8319084,32.1056474],[34.8325033,32.1054987],[34.8334364,32.1053165],[34.8358728,32.1051637],[34.8360518,32.1052103],[34.8370923,32.1056993],[34.8377663,32.1059198],[34.8388579,32.1063756],[34.8391843,32.1065749],[34.8397401,32.1069913],[34.8398967,32.1070285],[34.8400566,32.10703],[34.8411167,32.1068781],[34.8413234,32.1068658],[34.8414609,32.1069067],[34.8417144,32.1071222],[34.8418284,32.1072831],[34.8421244,32.1079287],[34.8422498,32.1081365],[34.8424008,32.1082559],[34.8425817,32.108346],[34.8427541,32.108396],[34.8429511,32.1084192],[34.8433886,32.1084182],[34.8437278,32.1083393],[34.8439523,32.1082757],[34.8443618,32.1081263],[34.8445859,32.1080351],[34.8454339,32.1076299],[34.8456879,32.107417],[34.8462087,32.1070054],[34.8464673,32.106721],[34.8465585,32.1066592],[34.8466562,32.1066195],[34.8467623,32.1065994],[34.8472867,32.1066033],[34.8474582,32.1066257],[34.8476444,32.1066696],[34.8479282,32.1067786],[34.8483635,32.1070329],[34.8485286,32.1070892],[34.8486356,32.1071069],[34.8488867,32.1071065],[34.8489556,32.1070994],[34.8492517,32.1070317],[34.8492824,32.1071905],[34.8507244,32.1135945],[34.8507699,32.1136012],[34.851734,32.1177161],[34.8519012,32.1183281],[34.8520488,32.118807],[34.8522617,32.1194008],[34.8520413,32.1194399],[34.8517157,32.1195478],[34.8515432,32.1196764],[34.8512575,32.1197838],[34.8511747,32.1197565],[34.8510853,32.119754],[34.8510429,32.1197579],[34.8509722,32.1197994],[34.8506823,32.1197963],[34.8503155,32.1198139],[34.850382,32.1203258],[34.8489066,32.1187055],[34.8488219,32.1187081],[34.8485501,32.118771],[34.8485389,32.119078],[34.8480896,32.1191424],[34.8468804,32.1193582],[34.8468973,32.1194945],[34.8462447,32.1196605],[34.8452185,32.1197235],[34.8442792,32.1197213],[34.8442671,32.1200175],[34.8444043,32.1204598],[34.8434617,32.1208321],[34.8435597,32.1210017],[34.8428743,32.1212177],[34.8426349,32.1212998],[34.8420582,32.1214834],[34.8420212,32.1217499],[34.8420395,32.1220035],[34.8420044,32.1233387],[34.8414045,32.1232654],[34.8412864,32.1238693],[34.8405526,32.1238952],[34.8400499,32.1239211],[34.8399456,32.1239372],[34.8399451,32.1240644],[34.8399303,32.1241896],[34.8399004,32.1243349],[34.8399495,32.1257678],[34.8364354,32.1258751],[34.8371849,32.1272122],[34.8373072,32.1276954],[34.8357966,32.1276916],[34.8358008,32.1281204],[34.8333829,32.128389],[34.8334101,32.1285214],[34.8289109,32.1286951],[34.8280434,32.1278413],[34.8278589,32.1278535],[34.8267512,32.1278466],[34.8261811,32.1278534],[34.8266049,32.1285331],[34.8272836,32.1296574],[34.8273933,32.1298778],[34.8275946,32.1303634],[34.8195173,32.1306762],[34.819636,32.130313],[34.8199231,32.1295333],[34.8209531,32.127513],[34.8217333,32.1259502],[34.8217758,32.1258798],[34.8234293,32.1246239],[34.8240276,32.1239853],[34.823959,32.1238374],[34.8235691,32.1232712],[34.822678,32.123355],[34.8223423,32.1233799],[34.8222303,32.1233969],[34.8202267,32.1235792],[34.8200768,32.1235997],[34.8193674,32.1236672],[34.8193077,32.1236675],[34.8111635,32.1244308],[34.8107351,32.1253208],[34.8105062,32.1253381],[34.8101925,32.1260168],[34.8099857,32.1265251],[34.8096465,32.1268903],[34.8096183,32.1276164],[34.8090076,32.1283977],[34.8082182,32.1290598],[34.8071878,32.1297325],[34.8058282,32.1303052],[34.8044694,32.1306965],[34.803489,32.1308597],[34.802754,32.1309114],[34.8016691,32.1308236],[34.8008359,32.1307248],[34.7998619,32.1305263],[34.7991914,32.1302653],[34.7988247,32.1299986],[34.798563,32.1298294],[34.7984396,32.1297417],[34.7983219,32.1296485],[34.7981048,32.1294469],[34.798006,32.129339],[34.7979142,32.1292268],[34.7978404,32.1291264],[34.797637,32.1288122],[34.797511,32.1286031],[34.7968188,32.128646],[34.7955959,32.1287024],[34.7967153,32.1336015],[34.7968209,32.1338988],[34.7970171,32.1343403],[34.7982923,32.1366789],[34.7986019,32.1371516],[34.7994018,32.1381652],[34.8000197,32.1388983],[34.8004483,32.1394751],[34.8007666,32.1399128],[34.8009652,32.1402883],[34.8013367,32.140883],[34.8014059,32.1410348],[34.8016256,32.141469],[34.8018048,32.1419142],[34.8020224,32.1426058],[34.8024359,32.1440235],[34.7980258,32.1448395],[34.7969768,32.1450129],[34.7919881,32.1459706],[34.7915488,32.1460721],[34.7894874,32.1465478],[34.7876295,32.1469766],[34.7865051,32.1434619],[34.7754309,32.1141553],[34.7715002,32.1100105],[34.7712454,32.1036024],[34.7671088,32.0966363],[34.7662195,32.0951385],[34.7636982,32.0868051],[34.7591143,32.0716524],[34.7540176,32.0605762],[34.7509753,32.0591076],[34.7480748,32.0577074],[34.7407703,32.0479843],[34.7407755,32.0385723],[34.739131,32.0337564]]
ramat_gan = [[34.7991223,32.0843933],[34.7993912,32.0840223],[34.7995258,32.0839278],[34.7994462,32.0837499],[34.7994041,32.0835459],[34.7994277,32.0832128],[34.7995713,32.0827641],[34.7998664,32.082227],[34.8000005,32.0819082],[34.8000483,32.0816511],[34.8000201,32.0811905],[34.8001812,32.0812158],[34.8002405,32.0812339],[34.8003136,32.08127],[34.8004343,32.0813563],[34.8005395,32.0814965],[34.8006397,32.0816508],[34.8007813,32.0818261],[34.8008356,32.0818757],[34.8009724,32.0818105],[34.8013532,32.0815803],[34.8013663,32.0811505],[34.8016926,32.0811507],[34.801592,32.0805569],[34.8015175,32.0805525],[34.8015624,32.0801539],[34.8013868,32.0801388],[34.8014056,32.0789235],[34.8049906,32.0792202],[34.8050403,32.0792246],[34.8050291,32.0793166],[34.8049698,32.0797366],[34.8062184,32.0798282],[34.8078931,32.0799511],[34.8079615,32.0799561],[34.8085112,32.0799553],[34.8090384,32.0797421],[34.8113509,32.0794651],[34.8118584,32.0795539],[34.8120481,32.0799407],[34.8125539,32.0798768],[34.813137,32.0781586],[34.8131794,32.0780338],[34.8135165,32.0780761],[34.8151325,32.0786784],[34.8152514,32.0787227],[34.8154999,32.0788153],[34.820044,32.0805089],[34.8197081,32.079387],[34.8195942,32.0790066],[34.8207366,32.078961],[34.8206859,32.078255],[34.8194813,32.0783093],[34.8193813,32.0783349],[34.8190275,32.077093],[34.8186621,32.0753553],[34.8185622,32.0748802],[34.8184063,32.0741388],[34.8183355,32.0736172],[34.8183645,32.0727623],[34.8183485,32.0725514],[34.8181639,32.0716203],[34.8180896,32.0713918],[34.8178701,32.0709409],[34.8175321,32.0702465],[34.8167476,32.0680409],[34.8162352,32.0666004],[34.8161702,32.0664847],[34.8156823,32.0658824],[34.8149804,32.0648657],[34.8168339,32.0642761],[34.8169123,32.0642511],[34.8174321,32.0640446],[34.8177636,32.0638758],[34.8180042,32.0637533],[34.8183301,32.0635621],[34.8187764,32.0632453],[34.8189738,32.0631052],[34.81935,32.0627914],[34.8196852,32.062461],[34.8196409,32.0623336],[34.8196141,32.0622566],[34.8193784,32.0620936],[34.819352,32.0620428],[34.8193744,32.0619728],[34.8196092,32.0616967],[34.8192069,32.0614741],[34.8193015,32.0613616],[34.8189824,32.0604171],[34.8187992,32.0603698],[34.8189392,32.059971],[34.8188157,32.0599373],[34.8187662,32.0597945],[34.8186233,32.0597603],[34.8187862,32.0593232],[34.8185863,32.0592761],[34.8185307,32.0591191],[34.8169501,32.0587291],[34.8161864,32.058579],[34.8155652,32.0584963],[34.8146419,32.0584284],[34.8136994,32.0584317],[34.8127546,32.0585039],[34.8117959,32.0586318],[34.8116451,32.0578768],[34.8112814,32.0565693],[34.8110273,32.055961],[34.8104268,32.0548598],[34.8110639,32.0543902],[34.8115162,32.0540116],[34.8117758,32.0537654],[34.8121486,32.053412],[34.8125487,32.0529485],[34.8130027,32.0523516],[34.8133778,32.0517542],[34.8136676,32.0512112],[34.8138417,32.0506746],[34.8138801,32.0503151],[34.8139279,32.048543],[34.813906,32.0476435],[34.8138145,32.0469971],[34.8137764,32.0467277],[34.8132415,32.0446939],[34.8138129,32.0446013],[34.8155973,32.044342],[34.8159013,32.0442668],[34.8176229,32.0437048],[34.8178997,32.0435951],[34.8183479,32.0433674],[34.8187659,32.0431151],[34.8202642,32.0423357],[34.820469,32.0422062],[34.8210715,32.0418253],[34.8238726,32.0399646],[34.8241118,32.0397421],[34.8251997,32.0392807],[34.8263186,32.0388445],[34.8293555,32.0381177],[34.8297782,32.0381011],[34.8298815,32.0380795],[34.8318167,32.0376737],[34.8357247,32.036915],[34.8371027,32.0367726],[34.8403321,32.0367847],[34.8410131,32.0367487],[34.8436312,32.0363708],[34.8458138,32.036093],[34.8458174,32.036236],[34.8458669,32.0381817],[34.8454737,32.0382392],[34.8456356,32.038836],[34.8458184,32.0387999],[34.8458848,32.0395485],[34.8447317,32.0397786],[34.8457745,32.0418531],[34.8470493,32.0416151],[34.8473219,32.0414633],[34.8509159,32.0461096],[34.8531053,32.0490265],[34.8531506,32.0490395],[34.8542515,32.0504661],[34.8543573,32.050522],[34.8545946,32.0506086],[34.8535679,32.05188],[34.8534907,32.0519755],[34.8527821,32.0533786],[34.851851,32.0550946],[34.8492467,32.0585964],[34.8466948,32.0620278],[34.8458402,32.0620453],[34.8456776,32.0614764],[34.8414388,32.0623492],[34.8408285,32.0602162],[34.8400447,32.0603742],[34.8366304,32.0610627],[34.8371122,32.0622293],[34.8388944,32.0644572],[34.8390961,32.0646654],[34.8392948,32.0648095],[34.839525,32.0649074],[34.84235,32.0649985],[34.8427583,32.0650501],[34.8443584,32.0653854],[34.8452132,32.0656107],[34.8451863,32.0657471],[34.8451207,32.0661652],[34.8453584,32.0681394],[34.8453863,32.0686081],[34.8453431,32.0695162],[34.8453569,32.069995],[34.8454541,32.0710563],[34.845521,32.0712651],[34.8456603,32.0712613],[34.8474639,32.0708723],[34.8471122,32.0701535],[34.8481892,32.0697608],[34.8480585,32.069502],[34.8502878,32.0693441],[34.8511968,32.0732194],[34.8511072,32.0732334],[34.8499106,32.0736725],[34.8490324,32.0740321],[34.8470783,32.0748845],[34.8468714,32.0750347],[34.8463408,32.0741336],[34.8454491,32.0742809],[34.8443285,32.0726723],[34.8442748,32.0725842],[34.8443356,32.0725662],[34.8443228,32.0725132],[34.8432579,32.0728303],[34.8429375,32.0720485],[34.8424457,32.0710822],[34.8418773,32.0701815],[34.8410259,32.0690056],[34.8391236,32.0695507],[34.8394223,32.0699921],[34.8354546,32.0712039],[34.8354814,32.0712906],[34.832877,32.0719193],[34.8330702,32.0730876],[34.8331066,32.0748829],[34.8330975,32.0749465],[34.8327351,32.0749025],[34.8325402,32.0754413],[34.83246,32.0756629],[34.832341,32.0759919],[34.8280999,32.0754875],[34.8276715,32.0754365],[34.8274556,32.0770653],[34.8272253,32.0777472],[34.8261304,32.0814707],[34.8250576,32.0847387],[34.8220817,32.0849429],[34.8224067,32.0867849],[34.8225467,32.087875],[34.8225865,32.088424],[34.8226699,32.089576],[34.8226197,32.0906934],[34.8226184,32.0907227],[34.8226422,32.0909138],[34.822576,32.0914722],[34.8222025,32.0933526],[34.8217976,32.0951003],[34.8216298,32.0962886],[34.8216181,32.0963714],[34.8216095,32.096432],[34.8215957,32.0964903],[34.8215549,32.0966016],[34.8215481,32.0966263],[34.8214985,32.0966796],[34.8214289,32.0967544],[34.8216078,32.0969196],[34.8218398,32.0970593],[34.8220285,32.0971389],[34.8285335,32.0989568],[34.8281144,32.1002367],[34.8279251,32.1012714],[34.8277775,32.1026744],[34.8277035,32.1039855],[34.8277082,32.1050331],[34.8276484,32.1055761],[34.8274083,32.1055175],[34.8270604,32.1053496],[34.8251783,32.1049404],[34.8250307,32.1047844],[34.8248109,32.1046372],[34.8243509,32.1044352],[34.824062,32.1043751],[34.8238356,32.1042752],[34.8234574,32.1040036],[34.8232227,32.1038817],[34.8230358,32.10373],[34.8229568,32.1036267],[34.8229023,32.1034659],[34.8230009,32.1032952],[34.8231771,32.1031533],[34.8235091,32.1030326],[34.8239109,32.1029504],[34.824326,32.1027578],[34.8243857,32.1026734],[34.8243891,32.1025877],[34.824362,32.1025048],[34.82419,32.1023374],[34.823553,32.1019991],[34.8231945,32.1018982],[34.8225309,32.1018962],[34.8221085,32.1018121],[34.8215995,32.1015941],[34.8213526,32.1014203],[34.8211678,32.1011976],[34.821146,32.1009504],[34.8213141,32.1007072],[34.8214612,32.1005446],[34.8221124,32.1000977],[34.8223843,32.0998159],[34.8225803,32.0994933],[34.8226213,32.0991476],[34.8225662,32.0989676],[34.8224614,32.0988262],[34.8219293,32.098512],[34.8216428,32.0981662],[34.8214132,32.0977876],[34.8203379,32.0965979],[34.8199795,32.0962867],[34.8196675,32.0961641],[34.8194539,32.0961119],[34.8193251,32.0961108],[34.8191824,32.0961513],[34.8189924,32.0962497],[34.8189042,32.0963474],[34.8188463,32.0964914],[34.8188486,32.0969679],[34.8186435,32.0974742],[34.8185537,32.0975767],[34.8182152,32.097794],[34.8174285,32.0978877],[34.8169785,32.0980122],[34.8160326,32.0981603],[34.8156194,32.0981767],[34.8155343,32.0981483],[34.8153969,32.097999],[34.8152043,32.0974585],[34.8148322,32.096958],[34.8144566,32.0965319],[34.8142583,32.0963706],[34.8137942,32.0960919],[34.8135271,32.0959648],[34.8128844,32.0957435],[34.8124035,32.0956553],[34.8122325,32.0956659],[34.8119004,32.0957591],[34.8115477,32.0959215],[34.8110735,32.0960829],[34.8104865,32.0962473],[34.810086,32.0963044],[34.8097055,32.0963193],[34.8097403,32.0950932],[34.8094084,32.0949697],[34.8091299,32.0947844],[34.8087785,32.0943486],[34.8087026,32.0941008],[34.808662,32.0943992],[34.8085608,32.0943945],[34.8085686,32.0942757],[34.8086749,32.0939835],[34.8087024,32.0935594],[34.8087775,32.0933347],[34.8093237,32.0909767],[34.8089931,32.0909122],[34.8086708,32.0907686],[34.8069582,32.0897763],[34.8068822,32.0898141],[34.8068813,32.0899076],[34.8070539,32.0911658],[34.806456,32.0912288],[34.8058935,32.0912055],[34.8058862,32.0914028],[34.8053374,32.091273],[34.8053706,32.0911818],[34.8050141,32.0910803],[34.8049955,32.0911382],[34.8048029,32.0911114],[34.8044838,32.0909248],[34.8042194,32.0910073],[34.8038951,32.0911981],[34.8034556,32.0916111],[34.8031273,32.0922878],[34.8028246,32.0927597],[34.8022135,32.0934054],[34.8021018,32.0933204],[34.8017854,32.0929295],[34.8013086,32.0901515],[34.801217,32.0897737],[34.8011792,32.0895098],[34.8011405,32.0893632],[34.800569,32.0877273],[34.8001094,32.0866451],[34.7992975,32.0848706],[34.7991223,32.0843933]]
givatayim = [[34.7978591,32.0802108],[34.7987341,32.0795438],[34.7988821,32.0794049],[34.799323,32.0792031],[34.8013171,32.0781629],[34.8016683,32.0779354],[34.8019335,32.0777139],[34.8021236,32.0771463],[34.8021281,32.0767609],[34.800599,32.0729257],[34.8009232,32.0725349],[34.8022498,32.0707762],[34.8023866,32.0706084],[34.802566,32.0704561],[34.8021218,32.0699782],[34.8023099,32.0697888],[34.8024177,32.0695835],[34.802506,32.0691447],[34.8028101,32.0660468],[34.8037845,32.0661294],[34.8038597,32.065577],[34.8044923,32.0656284],[34.8045815,32.0652271],[34.8047126,32.0648157],[34.8049405,32.0642392],[34.8052249,32.0636844],[34.8054755,32.0632828],[34.8057569,32.0629088],[34.8058771,32.0623597],[34.8055958,32.0621655],[34.8061407,32.0616267],[34.8066949,32.0611944],[34.8070291,32.060979],[34.8076154,32.0606534],[34.8080559,32.0604513],[34.8086379,32.0602384],[34.8094387,32.0599935],[34.8107133,32.0597083],[34.8105739,32.0588432],[34.8117959,32.0586318],[34.8127546,32.0585039],[34.8136994,32.0584317],[34.8146419,32.0584284],[34.8155652,32.0584963],[34.8161864,32.058579],[34.8169501,32.0587291],[34.8185307,32.0591191],[34.8185863,32.0592761],[34.8187862,32.0593232],[34.8186233,32.0597603],[34.8187662,32.0597945],[34.8188157,32.0599373],[34.8189392,32.059971],[34.8187992,32.0603698],[34.8189824,32.0604171],[34.8193015,32.0613616],[34.8192069,32.0614741],[34.8196092,32.0616967],[34.8193744,32.0619728],[34.819352,32.0620428],[34.8193784,32.0620936],[34.8196141,32.0622566],[34.8196409,32.0623336],[34.8196852,32.062461],[34.81935,32.0627914],[34.8189738,32.0631052],[34.8187764,32.0632453],[34.8183301,32.0635621],[34.8180042,32.0637533],[34.8177636,32.0638758],[34.8174321,32.0640446],[34.8169123,32.0642511],[34.8168339,32.0642761],[34.8149804,32.0648657],[34.8156823,32.0658824],[34.8161702,32.0664847],[34.8162352,32.0666004],[34.8167476,32.0680409],[34.8175321,32.0702465],[34.8178701,32.0709409],[34.8180896,32.0713918],[34.8181639,32.0716203],[34.8183485,32.0725514],[34.8183645,32.0727623],[34.8183355,32.0736172],[34.8184063,32.0741388],[34.8185622,32.0748802],[34.8186621,32.0753553],[34.8190275,32.077093],[34.8193813,32.0783349],[34.8194813,32.0783093],[34.8206859,32.078255],[34.8207366,32.078961],[34.8195942,32.0790066],[34.8197081,32.079387],[34.820044,32.0805089],[34.8154999,32.0788153],[34.8152514,32.0787227],[34.8151325,32.0786784],[34.8135165,32.0780761],[34.8131794,32.0780338],[34.813137,32.0781586],[34.8125539,32.0798768],[34.8120481,32.0799407],[34.8118584,32.0795539],[34.8113509,32.0794651],[34.8090384,32.0797421],[34.8085112,32.0799553],[34.8079615,32.0799561],[34.8078931,32.0799511],[34.8062184,32.0798282],[34.8049698,32.0797366],[34.8050291,32.0793166],[34.8050403,32.0792246],[34.8049906,32.0792202],[34.8014056,32.0789235],[34.8013868,32.0801388],[34.8015624,32.0801539],[34.8015175,32.0805525],[34.801592,32.0805569],[34.8016926,32.0811507],[34.8013663,32.0811505],[34.8013532,32.0815803],[34.8009724,32.0818105],[34.8008356,32.0818757],[34.8007813,32.0818261],[34.8006397,32.0816508],[34.8005395,32.0814965],[34.8004343,32.0813563],[34.8003136,32.08127],[34.8002405,32.0812339],[34.8001812,32.0812158],[34.8000201,32.0811905],[34.7998964,32.0811793],[34.7997927,32.0811735],[34.7995474,32.0811665],[34.7993188,32.08116],[34.7990386,32.0811144],[34.7986342,32.0809656],[34.798485,32.0808437],[34.7981179,32.0807967],[34.7978591,32.0802108]]
locations = {
    "johnathan.maytliss@gmail.com": [ramat_gan, tlv, givatayim]
}

app = Flask(__name__)
CORS(app)
mongo = MongoDB("personal-web")
mongo.connect()

#TODO: wrapper to chack url values
@app.route('/user/<string:user_email>', methods=['GET'])
def get_user(user_email):
    if user_email:
        user = mongo.get_one("user", {"email": user_email})
        if user:
            user.pop("_id")
            return jsonify(user), 200
        else:
            return 'user not found', 400
    return 'bad request', 400

@app.route('/user/<string:user_email>/locations', methods=['GET'])
def get_user_locations(user_email):
    if user_email:
        user_locations = locations.get(user_email)
        if user_locations:
            return jsonify(user_locations), 200
        else:
            return 'locations not found', 400
    return 'bad request', 400

@app.route('/projects', methods=['GET'])
def get_all_projects():
    sleep(0.5)
    return jsonify(projects), 200

@app.route('/projects/<int:project_id>')
def get_project(project_id):
    sleep(1)
    return jsonify({"id": project_id}), 200